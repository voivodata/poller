"use strict";var _get=function get(a,c,d){if(a===null){a=Function.prototype;}var b=Object.getOwnPropertyDescriptor(a,c);if(b===undefined){var f=Object.getPrototypeOf(a);if(f===null){return undefined}else {return get(f,c,d)}}else if("value" in b){return b.value}else {var e=b.get;if(e===undefined){return undefined}return e.call(d)}};var _createClass=function(){function defineProperties(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;if("value" in a){a.writable=!0;}Object.defineProperty(d,a.key,a)}}return function(a,c,b){if(c){defineProperties(a.prototype,c);}if(b){defineProperties(a,b);}return a}}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _possibleConstructorReturn(b,a){if(!b){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return a&&(typeof a==="object"||typeof a==="function")?a:b}function _inherits(b,a){if(typeof a!=="function"&&a!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});if(a){Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a;}}function _classCallCheck(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(a,b,c){if(b in a){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0})}else {a[b]=c}return a}(function(b){if((typeof exports==="undefined"?"undefined":_typeof(exports))==="object"&&typeof module!=="undefined"){module.exports=b()}else if(typeof define==="function"&&define.amd){define([],b)}else {var a;if(typeof window!=="undefined"){a=window}else if(typeof global!=="undefined"){a=global}else if(typeof self!=="undefined"){a=self}else {a=this}a.Fashion=b()}})(function(){var b,c,a;return function(){function r(a,b,d){function o(c,i){if(!b[c]){if(!a[c]){var h="function"==typeof require&&require;if(!i&&h){return h(c,!0);}if(e){return e(c,!0);}var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}var f=b[c]={exports:{}};a[c][0].call(f.exports,function(e){var f=a[c][1][e];return o(f||e)},f,f.exports,r,a,b,d)}return b[c].exports}for(var e="function"==typeof require&&require,c=0;c<d.length;c++){o(d[c])}return o}return r}()({1:[function(a,e,g){var b;var c=a('./src/export/Base.js');var d=a('./src/export/css/CssVariableManager.js'),f=new d();c.apply(c,(b={css:f,CssExport:d,Types:a('./src/export/type/Types.js'),ValueParser:a('./src/export/parse/ValueParser.js'),Type:a('./src/export/type/Type.js'),Bool:a('./src/export/type/Bool.js'),Literal:a('./src/export/type/Literal.js'),ParentheticalExpression:a('./src/export/type/ParentheticalExpression.js'),Text:a('./src/export/type/Text.js'),Numeric:a('./src/export/type/Numeric.js'),List:a('./src/export/type/List.js'),Map:a('./src/export/type/Map.js'),Color:a('./src/export/type/Color.js'),ColorRGBA:a('./src/export/type/ColorRGBA.js'),ColorHSLA:a('./src/export/type/ColorHSLA.js'),ColorStop:a('./src/export/type/ColorStop.js'),FunctionCall:a('./src/export/type/FunctionCall.js'),LinearGradient:a('./src/export/type/LinearGradient.js'),RadialGradient:a('./src/export/type/RadialGradient.js'),Statics:a('./src/export/type/Statics.js'),SourceBuilder:a('./src/export/type/SourceBuilder.js')},_defineProperty(b,"Types",a('./src/export/type/Types.js')),_defineProperty(b,"TypeVisitor",a('./src/export/type/TypeVisitor.js')),_defineProperty(b,"Output",a('./src/export/Output.js')),_defineProperty(b,"Runtime",a('./src/export/Runtime.js')),b));e.exports=c},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,c,d){"use strict";function getJsName(a){return a.replace(/\-/g,'_').replace(/\//g,'_fs_').replace(/\\/g,'_bs_')}var a=function(){function NameConverter(){_classCallCheck(this,NameConverter);this.variableNameMap={}}_createClass(NameConverter,[{key:"convertName",value:function convertName(b){var f=this.variableNameMap,a=f[b];if(a===undefined){a=f[b]=getJsName(b)}return a}}]);return NameConverter}();var b=new a();c.exports={NameConverter:a,getJsName:function getJsName(a){return b.convertName(a)}}},{}],3:[function(e,f,h){"use strict";var d=e('./../NameConverter.js');var b={trace:!1};var a=function a(b){_classCallCheck(this,a);if(b){merge(this,b)}};var c=function(){function BaseSet(){_classCallCheck(this,BaseSet)}_createClass(BaseSet,[{key:"first",value:function first(){return _first(this.items)}},{key:"last",value:function last(){return _last(this.items)}},{key:"tail",value:function tail(){return _tail(this.items)}}]);return BaseSet}();c.prototype.items=null;function _chainFunc(){}function apply(a,b){a=a||{};if(b){for(var c in b){a[c]=b[c]}}return a}function merge(a,g){a=a||{};var c,b,d;if(g){for(c in g){b=g[c];if(b&&b.constructor===Object){d=a[c];if(d&&d.constructor===Object){merge(d,b)}else {a[c]=b}}else {a[c]=b}}}return a}var g=Object.create||function(a){_chainFunc.prototype=a;return new _chainFunc()};function createMessage(b,a){if(a&&a.isFashionScanner){b+=': '+a.currentFile+':'+a.lineNumber}else if(a){b+=': '+a.file+':'+a.lineNumber}return b}function isFunction(a){return a&&typeof a==='function'}function trace(a,c){if(b.trace){console.log(createMessage('[DBG] '+a,c))}}function debug(a,b){console.log(createMessage('[DBG] '+a,b))}function log(a,b){console.log(createMessage('[LOG] '+a,b))}function info(a,b){console.log(createMessage('[INF] '+a,b))}function warn(a,b){console.log(createMessage('[WRN] '+a,b))}function error(a,b){console.log(createMessage('[ERR] '+a,b))}function raise(a,b){if(Fashion.inspect){debugger}if(typeof a!=='string'){b=a;a=b.message;delete b.message}var c=new Error(a);c.$isFashionError=!0;throw apply(c,b)}function raiseAt(c,a,d){var b;if(a){c=createMessage(c,a);if(a.isFashionScanner){b={file:a.currentFile,lineNumber:a.lineNumber}}else {b={node:a,lineNumber:a.lineNumber,file:a.file}}}if(d){if(!b){b={}}b.fashionStack=d}raise(c,b)}function filter(c,g){var b=[];for(var a=0;a<c.length;a++){var d=c[a];if(g(d,a)){b.push(d)}}return b}function convert(c,d){var b=[];for(var a=0;a<c.length;a++){b.push(d(c[a]))}return b}function _first(a){return a.length&&a[0]}function _last(a){return a.length&&a[a.length-1]}function _tail(a){if(a.length>2){return a.slice(1)}return []}function getAllKeys(a,k){var g=[],i={},c,b,j,d;for(;a&&a!==k;a=Object.getPrototypeOf(a)){d=Object.getOwnPropertyNames(a);for(c=0,j=d.length;c<j;++c){b=d[c];if(!i[b]){i[b]=!0;g.push(b)}}}return g}function mixin(i,b){if(!Array.isArray(b)){b=Array.prototype.slice.call(arguments,1)}var g=i.prototype;for(var d=0;d<b.length;d++){var j=b[d],c=j.prototype;getAllKeys(c,a.prototype).forEach(function(a){if(a in c){if(!(a in g)){g[a]=c[a]}}})}}function flatten(g,b,a){a=a||[];b=typeof b==='undefined'?1000:b;for(var d=0;d<g.length;d++){var c=g[d];if(Array.isArray(c)&&b){flatten(c,b-1,a)}else {a.push(c)}}return a}f.exports={EmptyArray:[],getJsName:d.getJsName,chain:g,Base:a,BaseSet:c,apply:apply,merge:merge,createMessage:createMessage,isFunction:isFunction,debugging:b,trace:trace,debug:debug,log:log,info:info,warn:warn,error:error,raise:raise,raiseAt:raiseAt,filter:filter,convert:convert,first:_first,last:_last,tail:_tail,mixin:mixin,flatten:flatten}},{"./../NameConverter.js":2}],4:[function(c,d,f){"use strict";var a=c('./Base.js'),e=a.Base;var b=function(a){_inherits(Output,a);function Output(){_classCallCheck(this,Output);var b=_possibleConstructorReturn(this,(Output.__proto__||Object.getPrototypeOf(Output)).call(this));b.output='';return b}_createClass(Output,[{key:"space",value:function space(){this.add(' ')}},{key:"add",value:function add(b){this.output+=b}},{key:"addComment",value:function addComment(b){this.output+=b}},{key:"indent",value:function indent(){this.indentation+=this.indentstr}},{key:"unindent",value:function unindent(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function addln(b){this.output+='\n'+this.indentation+(b||'')}},{key:"addCommentLn",value:function addCommentLn(b){if(b&&b.indexOf('//')===0){return}this.addln(b)}},{key:"get",value:function get(){return this.output}},{key:"indentln",value:function indentln(b){this.addln(b);this.indent()}},{key:"unindentln",value:function unindentln(b){this.unindent();this.addln(b)}},{key:"reset",value:function reset(){this.indentation='';this.output=''}}]);return Output}(e);a.apply(b.prototype,{indentation:'',output:'',isCompressed:!1,indentstr:'    ',splitThreshold:1000000,selectorCount:0});d.exports=b},{"./Base.js":3}],5:[function(b,k,q){"use strict";var a=b('./Base.js'),n=a.Base;var h=b('./type/Type.js');var g=b('./type/List.js');var o=b('./type/Bool.js');var l=b('./type/Color.js');var j=b('./type/ColorRGBA.js');var p=b('./type/Text.js');var d=b('./type/Literal.js');var f=b('./type/Statics.js');var i=b('./type/TypeVisitor.js');var m=b('./type/Types.js');var c=function(){function Scope(a){_classCallCheck(this,Scope);this.prev=a;this.map={};this.sourceInfo=null}_createClass(Scope,[{key:"get",value:function get(e){var d=this.map,c=this,a;while(d){a=d[e];if(a){return a}c=c.prev;d=c&&c.map}return a}},{key:"has",value:function has(d){var c=this.map,a=this;while(c){if(d in c){return !0}a=a.prev;c=a&&a.map}return !1}},{key:"put",value:function put(c,a){this.map[c]=a;return a}},{key:"addEntries",value:function addEntries(a){if(this.prev){this.prev.addEntries(a)}for(var c in this.map){a[c]=this.map[c]}}},{key:"getEntries",value:function getEntries(a){a=a||{};this.addEntries(a);return a}},{key:"getSourceInfo",value:function getSourceInfo(){return this.sourceInfo}},{key:"getCallStack",value:function getCallStack(a){a=a||[];if(this.sourceInfo){a.push(this.sourceInfo)}if(this.prev){this.prev.getCallStack(a)}return a}}]);return Scope}();a.apply(c.prototype,{$isScope:!0,map:undefined,prev:undefined,resetScope:undefined});var e=function(e){_inherits(Runtime,e);function Runtime(d){_classCallCheck(this,Runtime);var c=_possibleConstructorReturn(this,(Runtime.__proto__||Object.getPrototypeOf(Runtime)).call(this,d));var a=c;a.mixins={};a.functions={};a.processors=[];a.registered={runtime:a,box:f.boxType,unbox:f.unboxType,isArray:function isArray(a){return Array.isArray(a)},getRuntime:function getRuntime(){return this.runtime},handleArgs:function handleArgs(j,l){var f={},h=0,a;for(var i=0;i<j.length;i++){var c=j[i];if(c===undefined){continue}if(c===!0||c===!1){f[l[h]]=c;h++}else if(c.type===undefined){for(a in c){f[a.replace(/^\$/,'')]=c[a]}}else {a=l[h];if(a instanceof Array){a=a[0];f[a]=f[a]||new g();f[a].add(c)}else {f[a]=c;h++}}}return f},sliceArgs:function sliceArgs(c,a,f){return this.getRuntime().sliceArgs(c,a,f).items},tailArgs:function tailArgs(c,f){var a=Array.prototype.slice.call(f,c);if(a.length==1&&this.isArray(a)){a=a[0]}return a}};return c}_createClass(Runtime,[{key:"bool",value:function bool(a){return new o(a)}},{key:"color",value:function color(d){var a=l.map[d],c=new j(a[0],a[1],a[2],a[3]);c.stringified=d;return c}},{key:"quote",value:function quote(a){if(a.type==='string'){return a}return new p(a.toString())}},{key:"unquote",value:function unquote(a){if(a.$isFashionType){return a.unquote()}return new d(a.toString())}},{key:"not",value:function not(a){return this.box(this.unbox(a)==!1)}},{key:"operate",value:function operate(a,f,c){if(f==null||f.$isFashionNull){if(a!='=='&&a!='!='){return d.Null}}if(c==null||c.$isFashionNull){if(a!='=='&&a!='!='){return d.Null}}return f.operate(a,c)}},{key:"reset",value:function reset(){this._currentScope=null;this._currentCallStackScope=this.createCallStackScope();this._globalScope=this.createScope();this._dynamics={}}},{key:"run",value:function run(a,c){this.load(a);this.compile(a);return this.execute(c)}},{key:"createTypesBlock",value:function createTypesBlock(d){d=d||this.types;var g=Object.getOwnPropertyNames(d),c=[],a;for(var f=0;f<g.length;f++){a=g[f];c.push(a+' = Types.'+a);c.push("__"+a+' = '+a)}if(c.length===0){return ''}return 'var '+c.join(',\n    ')+';\n'}},{key:"createMethodBlock",value:function createMethodBlock(a){a=a||this.constructor.prototype;var d=[],f,c;while(a){f=Object.getOwnPropertyNames(a);for(var g=0;g<f.length;g++){c=f[g];if(typeof a[c]==='function'){d.push("__rt_"+c+' = __rt.'+c+'.bind(__rt)')}}a=Object.getPrototypeOf(a)}if(d.length===0){return ''}return 'var '+d.join(',\n    ')+';\n'}},{key:"createPropertyBlock",value:function createPropertyBlock(){var f=Object.getOwnPropertyNames(this),a=[],c;for(var d=0;d<f.length;d++){c=f[d];a.push("__rt_"+c+' = __rt.'+c)}if(a.length===0){return ''}return 'var '+a.join(',\n    ')+';\n'}},{key:"createPrefixedFunctionBody",value:function createPrefixedFunctionBody(a){a=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+a;return a}},{key:"createWrappedFn",value:function createWrappedFn(a){return new Function('Types','__rt','__gs','__udf','__dyn',this.createPrefixedFunctionBody(a))}},{key:"callWrappedFn",value:function callWrappedFn(d,c){return d(a,this,this._globalScope,undefined,c||{})}},{key:"compile",value:function compile(d){var f=this,c;this.code=d;new Function();c=this.createWrappedFn(d);this.fn=function(l,h,i){var g=l||f,j=i||{};g.reset();if(h){if(h.$isScope){g._globalScope=h}else {g._globalScope.map=h}}if(i){g._dynamics=i}g._currentScope=g._globalScope;g._scopeStack=[g._currentScope];try{c(f.types,g,g._globalScope,undefined,j)}catch(r){a.raiseAt(r.message||r,null,g.getCallStack())}return g._globalScope};return this.fn}},{key:"execute",value:function execute(a){return this.fn(this,a)}},{key:"load",value:function load(a){this.code=a;return this}},{key:"registerProcessor",value:function registerProcessor(a){this.processors.push(new i(a))}},{key:"register",value:function register(c){if(c['dynamic']){a.error('Cannot register javascript function named "dynamic"');delete c['dynamic']}if(c['require']){a.error('Cannot register javascript function named "require"');delete c['require']}a.apply(this.registered,c)}},{key:"isRegistered",value:function isRegistered(a){a=this.reserved[a]?'__'+a:a;return !!this.registered[a]}},{key:"getGlobalScope",value:function getGlobalScope(){return this._globalScope}},{key:"getCurrentScope",value:function getCurrentScope(){return this._currentScope}},{key:"getRegisteredFunctions",value:function getRegisteredFunctions(){return this.registered}},{key:"getFunctions",value:function getFunctions(){return this.functions}},{key:"getMixins",value:function getMixins(){return this.mixins}},{key:"createScope",value:function createScope(f){var a=f||this._currentScope,d=new c(a);return this.pushScope(d)}},{key:"pushScope",value:function pushScope(a){a.resetScope=this._currentScope;this._currentScope=a;return a}},{key:"popScope",value:function popScope(){this._currentScope=this._currentScope.resetScope;return this._currentScope}},{key:"createCallStackScope",value:function createCallStackScope(f){var a=f||this._currentCallStackScope,d=new c(a);return this.pushCallStackScope(d)}},{key:"pushCallStackScope",value:function pushCallStackScope(a){a.resetScope=this._currentCallStackScope;this._currentCallStackScope=a;return a}},{key:"popCallStackScope",value:function popCallStackScope(){this._currentCallStackScope=this._currentCallStackScope.resetScope;return this._currentCallStackScope}},{key:"getCallStack",value:function getCallStack(){if(this._currentCallStackScope){return this._currentCallStackScope.getCallStack()}return null}},{key:"pushSourceInfo",value:function pushSourceInfo(a){if(this._currentCallStackScope){this._currentCallStackScope.sourceInfo=a}return !0}},{key:"getSourceInfo",value:function getSourceInfo(){var c=this._currentCallStackScope,a=c&&c.sourceInfo;if(a&&a.length){return {lineNumber:a[0],file:a[1]}}return null}},{key:"get",value:function get(c){var d=this.getScopeForName(c),f=d.map[c];if(typeof f==='undefined'){if(!(c in d.map)){a.raiseAt('Reference to undeclared variable : '+c,null,this.getCallStack())}}return this.box(f)}},{key:"getScopeForName",value:function getScopeForName(c){var a=this._currentScope;while(a){if(c in a.map){return a}a=a.prev}return this._currentScope}},{key:"getDefault",value:function getDefault(a){if(a==null||typeof a==='undefined'){return undefined}if(a.$isFashionNull){if(this.constructor.allowNullDefaults){return a}return undefined}return this.box(a)}},{key:"getGlobalDefault",value:function getGlobalDefault(a){var c=this._globalScope.get(a);return this.getDefault(c)}},{key:"getLocalDefault",value:function getLocalDefault(a){var c=this._currentScope.get(a);return this.getDefault(c)}},{key:"setGlobal",value:function setGlobal(f,a,c){var d=this._globalScope;if(!a||!a.$isFashionLiteral){a=this.box(a)}a.ast=a.ast||this.getAstNode(c);d.map[f]=a;return a}},{key:"setDynamic",value:function setDynamic(g,c,f){var i=a.getJsName(g),h=this._globalScope,d;if(!c||!c.$isFashionLiteral){c=this.box(c)}c.ast=c.ast||this.getAstNode(f);if(c.$referenceName||c.$constant){d=c.clone();d.$previousReference=c;c=d;c.ast=this.getAstNode(f)}else {c.$referenceName=g}h.map[i]=c;return c}},{key:"setScoped",value:function setScoped(c,a){var d=this.getScopeForName(c);if(!a||!a.$isFashionLiteral){a=this.box(a)}d.map[c]=a;return a}},{key:"set",value:function set(d,a){var c=this._currentScope;if(!a||!a.$isFashionLiteral){a=this.box(a)}c.map[d]=a;return a}},{key:"getDocs",value:function getDocs(a){if(this.docCache){return this.docCache.get(a)}}},{key:"getString",value:function getString(a){if(this.stringCache){return this.stringCache.get(a)}}},{key:"getAstNode",value:function getAstNode(a){if(this.nodeCache){return this.nodeCache.get(a)}}},{key:"applySpread",value:function applySpread(a){a.spread=!0;return a}},{key:"sliceArgs",value:function sliceArgs(m,j,l){j=j||0;l=l||m.length;var f=[],i=[],h=', ',d,c,a;for(c=j;c<l;c++){a=m[c];if(!a){if(!d){f.push(a)}continue}if(a.spread&&a.$isFashionList){if(d){f.push(d)}d=a;h=d.separator||h}else {f.push(a)}}for(c=0;c<f.length;c++){a=f[c];h=a&&a.splatSeparator||h;i.push(f[c])}if(d){i.push.apply(i,d.items)}return new g(i,h)}},{key:"applySpreadArgs",value:function applySpreadArgs(w,x){var f=[],r=!1,v=0,c,o,i,p,h,l,g,d,n,s,m;n=this.context&&this.context.preprocessor;if(n){d=n.mixinDeclarations[x];if(d){v=1}else {d=n.functionDeclarations[x]}d=d&&d.parameters}for(o=0;o<w.length;o++){c=w[o];if(c&&c.spread&&c.$isFashionMap&&d){h=c.items;g={};for(l in c.map){g['$'+a.getJsName(l)]=c.map[l]}for(var t=0;t<d.length;t++){s=d[t];m=a.getJsName(s.name);if(m in g){f.push(h[g[m]]);delete g[m]}else if(!s.varArgs){f.push(undefined)}}for(l in g){i=h[g[l]];f.push(i)}r=!0}else if(c&&c.spread&&c.$isFashionList){h=c.getItems();for(p=0;p<h.length;p++){i=h[p];i&&(i.splatSeparator=c.separator);f.push(i)}r=!0}else if(c||!r){f.push(c)}c&&(c.spread=undefined)}var u=this.context&&this.context.missingParameters;if(u&&u=='error'){if(d){for(var j=0;j<d.length;j++){if(!d[j].hasOwnProperty('default')&&!d[j].varArgs){if(f[j+v]===undefined){a.raiseAt("No value supplied for argument : "+d[j].name,null,this.getCallStack())}}}}}return f}},{key:"warn",value:function warn(c){a.warn(c,this.getSourceInfo())}},{key:"error",value:function error(c){a.raiseAt(c,null,this.getCallStack())}},{key:"debug",value:function debug(){a.debug.apply(a,arguments)}},{key:"setCaches",value:function setCaches(a){this.docCache=a.docCache;this.stringCache=a.stringCache;this.nodeCache=a.nodeCache}},{key:"copyRuntimeState",value:function copyRuntimeState(a){this._dynamics=a._dynamics;this.registered=a.registered;this.functions=a.functions;this.mixins=a.mixins}},{key:"test",value:function test(a){a=this.unbox(a);if(a==null||a===!1){return !1}return !0}},{key:"and",value:function and(a,c){if(this.test(a)){return c}return a}},{key:"or",value:function or(a,c){if(this.test(a)){return a}return c}}]);return Runtime}(n);a.apply(e.prototype,{box:h.box,unbox:h.unbox,Scope:c,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:m,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{'if':!0,'else':!0}});k.exports=e},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(b,g,h){"use strict";var a=b('../Base.js');var f=b('../Runtime.js');var e=b('../parse/ValueParser.js');var d=b('../type/SourceBuilder.js');var c=function(){function CssVariableManager(){_classCallCheck(this,CssVariableManager);this.reset()}_createClass(CssVariableManager,[{key:"reset",value:function reset(){this.initFns=[];this.calcFns=[];this.variableMap={};this.runtime=null}},{key:"createRuntime",value:function createRuntime(){return new f()}},{key:"getRuntime",value:function getRuntime(){var a=this,c=a.runtime;if(!c){c=a.createRuntime();for(var d=0;d<a.initFns.length;d++){a.initFns[d](c)}a.runtime=c}return c}},{key:"calculate",value:function calculate(l){var m=this,n=m.getRuntime(),t={},s=new e(),q=m.variableMap,c,j,r,k,o,p,i,u;j=new n.Scope();for(k in l){c=a.getJsName(k.replace(m.nameRe,''));if(c.indexOf('$')!==0){c='$'+c}j.put(c,s.parse(l[k]))}n._globalScope=j;n._currentScope=j;for(var f=0;f<m.calcFns.length;f++){m.calcFns[f](n)}r=new d();l={};for(k in q){o=q[k];for(var f=0;f<o.length;f++){c=o[f];p='$'+a.getJsName(c);i=j.get(p);if(i){if(i.$isWrapper){i=i.value}l[c]=r.toSource(i)}}}return l}},{key:"applyVariables",value:function applyVariables(k){var l=this,j=l.variableMap;for(var f in j){var e=j[f];var a=document.querySelectorAll(f);if(a){for(var c=0;c<a.length;c++){for(var d=0;d<e.length;d++){var i=e[d];a[c].style.setProperty('--'+i,k[i])}}}}}},{key:"setVariables",value:function setVariables(a){this.applyVariables(this.calculate(a))}},{key:"register",value:function register(f,e,c){if(f){this.initFns.push(f)}if(e){this.calcFns.push(e)}if(c){var i=this.variableMap;for(var a in c){var d=i[a];if(!d){i[a]=c[a]}else {d.push.apply(d,c[a])}}}}},{key:"buildName",value:function buildName(a){return a.replace(/^--/,'').replace(/^\$/,'')}},{key:"buildJsName",value:function buildJsName(c){return a.getJsName(c)}},{key:"buildNames",value:function buildNames(c){var d={},a;for(a in c){d[a]=this.buildName(c[a])}return d}},{key:"buildJsNames",value:function buildJsNames(c){var d={},a;for(a in c){d[a]=this.buildJsName(c[a])}return d}},{key:"getVariables",value:function getVariables(){var l=this,j=l.variableMap,k={};for(var f in j){var e=j[f];var a=document.querySelectorAll(f);if(a){for(var c=0;c<a.length;c++){for(var d=0;d<e.length;d++){var i=e[d];k[i]=a[c].style.getPropertyValue('--'+i)}}}}return k}}]);return CssVariableManager}();a.apply(c.prototype,{$isExport:!0,nameRe:/^--/});g.exports=c},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(d,m,q){"use strict";var f=d('../Base.js');var b=d('../type/Type.js');var p=d('../type/Statics.js');var a=d('../type/Types.js'),n=a.Color,o=a.Text,k=a.Numeric,i=a.List,h=a.Bool,g=a.Literal,c=a.ColorRGBA,j=a.ColorHSLA,e=a.FunctionCall;var l=function(){function Parser(){_classCallCheck(this,Parser);this.index=0}_createClass(Parser,[{key:"_advance",value:function _advance(){var c=this,g='',h=c.str,i=h.length,b=!1,f=!1,e=0,a;while(c.index<i){a=h[c.index];c.index++;if(a<=' '){if(!b&&!e){if(g.length){break}continue}}if(a===';'&&!b&&!f){break}if(a==='('){e++}if(a===')'){e&&e--}if(a===','&&!b&&!f&&!e){if(g.length){c.index--;break}else {return a}}if(a==='\\'){if(b){f=1;c.index++;continue}}if(a==='"'||a==="'"){if(!b){b=a}else if(b===a){b=!1}}f=!1;g+=a}return g}},{key:"parseValue",value:function parseValue(a){var r={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/},i,u;if(a[0]==='"'||a[0]==="'"){u=a=a.substring(1,a.length-1);return new o(u,a[0])}if(a==='true'){return new h(!0)}if(a==='false'){return new h(!1)}if(a==='null'){return g.Null}if(a==='none'){return g.None}if(f.Color.map[a]){var s=n.map[a],t=new c(s[0],s[1],s[2],s[3]);t.stringified=a;return t}if(i=r.number.exec(a)){return new k(parseFloat(i[1]),i[2])}if(i=r.shortHexColor.exec(a)){return c.fromHex(i[1])}if(i=r.longHexColor.exec(a)){return c.fromHex(i[1])}if(i=r.functionCall.exec(a)){var p=i[1],l=this.parse(i[2]).items;if(p==='hsla'||p==='hsl'){return new j(b.unbox(l[0]),b.unbox(l[1]),b.unbox(l[2]),b.unbox(l[3])||1)}else if(p==='rgba'||p==='rgb'){return new c(b.unbox(l[0]),b.unbox(l[1]),b.unbox(l[2]),b.unbox(l[3])||1)}return new e(p,l)}if(i=r.parenList.exec(a)){return new e(this.parse(i[1]))}return new f.Literal(a)}},{key:"parse",value:function parse(h){var c=this,g=[],e=[],a=null,b;c.str=h;c.index=0;while(b=c._advance()){g.push(b)}for(var f=0;f<g.length;f++){b=g[f].trim();if(g[f+1]===','){a=a||[];a.push(c.parseValue(b));f++}else if(a){a.push(c.parseValue(b));e.push(new i(a,', '));a=null}else {e.push(c.parseValue(b))}}if(e.length===1){return e[0]}return new i(e,' ')}}]);return Parser}();m.exports=l},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(b,d,f){"use strict";var c=b('../Base.js');var e=b('./Type.js');var a=function(a){_inherits(Bool,a);function Bool(e){_classCallCheck(this,Bool);var c=_possibleConstructorReturn(this,(Bool.__proto__||Object.getPrototypeOf(Bool)).call(this));c.value=!!e;return c}_createClass(Bool,[{key:"doVisit",value:function doVisit(c){c.bool(this)}},{key:"toString",value:function toString(){return this.value?'true':'false'}},{key:"copy",value:function copy(){return new Bool(this.value)}}]);return Bool}(e);c.apply(a.prototype,{type:'bool',$isFashionBool:!0,value:null});a.True=new a(!0);a.True.$constant=!0;a.False=new a(!1);a.False.$constant=!0;d.exports=a},{"../Base.js":3,"./Type.js":24}],9:[function(a,e,h){"use strict";var c=a('../Base.js');var g=a('./Type.js');var f=a('./Bool.js');var d=a('./Numeric.js');var b=function(b){_inherits(Color,b);function Color(){_classCallCheck(this,Color);return _possibleConstructorReturn(this,(Color.__proto__||Object.getPrototypeOf(Color)).call(this))}_createClass(Color,[{key:"toBoolean",value:function toBoolean(){return f.True}},{key:"getRGBA",value:function getRGBA(){return this}},{key:"getHSLA",value:function getHSLA(){return this}}],[{key:"component",value:function component(g,f){var k=Color.units[f],j=Color.types[f],i=Color.comps[f],c;if(j=='hsla'){c=g.getHSLA()}else {c=g.getRGBA()}return new d(c[i],k)}},{key:"adjust",value:function adjust(g,d,f){var c=g.getHSLA().copy(),j=Color.comps[d],i=f.value;c[j]+=i;c.h=Color.constrainDegrees(c.h);c.s=Color.constrainPercentage(c.s);c.l=Color.constrainPercentage(c.l);return c.getRGBA()}},{key:"constrainChannel",value:function constrainChannel(c){return Math.max(0,Math.min(c,255))}},{key:"constrainPercentage",value:function constrainPercentage(c){return Math.max(0,Math.min(c,100))}},{key:"constrainDegrees",value:function constrainDegrees(c){c=c%360;return c<0?360+c:c}},{key:"constrainAlpha",value:function constrainAlpha(c){if(c===undefined){return 1}return Math.max(0,Math.min(c,1))}}]);return Color}(g);c.apply(b,{units:{lightness:'%',saturation:'%',hue:'deg'},types:{red:'rgba',blue:'rgba',green:'rgba',alpha:'rgba',hue:'hsla',saturation:'hsla',lightness:'hsla'},comps:{red:'r',green:'g',blue:'b',alpha:'a',hue:'h',saturation:'s',lightness:'l'},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}});c.apply(b.prototype,{type:'color',$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1});e.exports=b},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(c,f,g){"use strict";var e=c('../Base.js');var a=c('./Color.js');var d=c('./ColorRGBA.js');var b=function(b){_inherits(ColorHSLA,b);function ColorHSLA(h,j,i,e){_classCallCheck(this,ColorHSLA);var d=_possibleConstructorReturn(this,(ColorHSLA.__proto__||Object.getPrototypeOf(ColorHSLA)).call(this));d.h=a.constrainDegrees(h);d.s=j;d.l=i;if(e!==undefined){d.a=e}return d}_createClass(ColorHSLA,[{key:"doVisit",value:function doVisit(a){a.hsla(this)}},{key:"operate",value:function operate(a,d){return this.getRGBA().operate(a,d)}},{key:"copy",value:function copy(){return new ColorHSLA(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function getRGBA(){return d.fromHSLA(this)}},{key:"toString",value:function toString(){return this.getRGBA().toString()}},{key:"add",value:function add(e,i,h,d){return new ColorHSLA(a.constrainDegrees(this.h+e),a.constrainPercentage(this.s+i),a.constrainPercentage(this.l+h),a.constrainAlpha(this.a*d))}},{key:"subtract",value:function subtract(a,e,d){return this.add(-a,-e,-d)}},{key:"adjustLightness",value:function adjustLightness(d){this.l=a.constrainPercentage(this.l+d);return this}},{key:"adjustHue",value:function adjustHue(d){this.h=a.constrainDegrees(this.h+d);return this}}],[{key:"fromRGBA",value:function fromRGBA(h){if(h.$isFashionHSLA){return h.clone()}var l=h.r/255,k=h.g/255,m=h.b/255,p=h.a,e=Math.max(l,k,m),j=Math.min(l,k,m),i=e-j,d=0,o=0,n=0.5*(e+j);if(j!=e){o=n<0.5?i/(e+j):i/(2-e-j);if(l==e){d=60*(k-m)/i}else if(k==e){d=120+60*(m-l)/i}else {d=240+60*(l-k)/i}if(d<0){d+=360}if(d>=360){d-=360}}return new ColorHSLA(a.constrainDegrees(d),a.constrainPercentage(o*100),a.constrainPercentage(n*100),p)}}]);return ColorHSLA}(a);d.prototype.getHSLA=function(){return b.fromRGBA(this)};e.apply(b.prototype,{type:'hsla',$isFashionHSLA:!0,h:null,s:null,l:null,a:1});f.exports=b},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(d,e,f){"use strict";var c=d('../Base.js');var b=d('./Color.js');function hex2(b){var a=b.toString(16);if(a.length<2){a='0'+a}return a}var a=function(a){_inherits(ColorRGBA,a);function ColorRGBA(i,h,g,c){_classCallCheck(this,ColorRGBA);var b=_possibleConstructorReturn(this,(ColorRGBA.__proto__||Object.getPrototypeOf(ColorRGBA)).call(this));b.r=Math.min(255,Math.max(0,i));b.g=Math.min(255,Math.max(0,h));b.b=Math.min(255,Math.max(0,g));if(c!==undefined){b.a=Math.min(1,Math.max(0,c))}return b}_createClass(ColorRGBA,[{key:"doVisit",value:function doVisit(b){b.rgba(this)}},{key:"copy",value:function copy(){return new ColorRGBA(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function getHSLA(){return null}},{key:"stringify",value:function stringify(){var c=this,g=Math.round,k=g(c.r),j=g(c.g),i=g(c.b),h=c.a,b='';if(h===1){b='#'+hex2(k)+hex2(j)+hex2(i)}else {b='rgba('+k+', '+j+', '+i+', '+h+')'}b=b.toLowerCase();return b}},{key:"getCompressedValue",value:function getCompressedValue(b){var g=ColorRGBA.stringifiedMap[b],c=ColorRGBA.shortFormMap[b];if(g){b=b.length>g.length?g:b}if(ColorRGBA.useShortValues&&c){b=b.length>c.length?c:b}return b}},{key:"toString",value:function toString(){if(!this.stringified){this.stringified=this.getCompressedValue(this.stringify())}return this.stringified}},{key:"toIeHexStr",value:function toIeHexStr(){var c=this,b=Math.round,j=b(c.r),i=b(c.g),h=b(c.b),g=b(255*c.a);return '#'+hex2(g)+hex2(j)+hex2(i)+hex2(h)}},{key:"add",value:function add(h,g,c,b){return new ColorRGBA(this.r+h,this.g+g,this.b+c,this.a*b)}},{key:"subtract",value:function subtract(g,c,b){return new ColorRGBA(this.r-g,this.g-c,this.b-b,this.a)}},{key:"multiply",value:function multiply(b){return new ColorRGBA(this.r*b,this.g*b,this.b*b,this.a)}},{key:"divide",value:function divide(b){return new ColorRGBA(this.r/b,this.g/b,this.b/b,this.a)}}],[{key:"fromHex",value:function fromHex(b){if(b.charAt(0)=='#'){b=b.substr(1)}var h,g,c;if(b.length===3){h=parseInt(b.charAt(0),16);g=parseInt(b.charAt(1),16);c=parseInt(b.charAt(2),16);h=(h<<4)+h;g=(g<<4)+g;c=(c<<4)+c}else {h=parseInt(b.substring(0,2),16);g=parseInt(b.substring(2,4),16);c=parseInt(b.substring(4,6),16)}var i=new ColorRGBA(h,g,c);if(ColorRGBA.preserveInputStrings){i.stringified="#"+b}return i}},{key:"fromHSLA",value:function fromHSLA(j){if(j.$isFashionRGBA){return j.clone()}var h=j,k=h.h/360,l=h.s/100,g=h.l/100,m=h.a;var i=g<=0.5?g*(l+1):g+l-g*l,c=g*2-i;function hue(b){if(b<0){++b;}if(b>1){--b;}if(b*6<1){return c+(i-c)*b*6;}if(b*2<1){return i;}if(b*3<2){return c+(i-c)*(2/3-b)*6;}return c}var p=b.constrainChannel(hue(k+1/3)*255),o=b.constrainChannel(hue(k)*255),n=b.constrainChannel(hue(k-1/3)*255);return new ColorRGBA(p,o,n,m)}}]);return ColorRGBA}(b);c.apply(a,{stringifiedMap:{'rgba(0, 0, 0, 0)':'transparent'},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1});c.apply(a.prototype,{type:'rgba',$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function number(b){var a=b.value,c=b.unit;switch(c){case '%':return this.getHSLA().adjustLightness(a).getRGBA();case 'deg':return this.getHSLA().adjustHue(a).getRGBA();default:return this.add(a,a,a,1);}},"+.rgba":function rgba(a){return this.add(a.r,a.g,a.b,a.a)},"+.hsla":function hsla(a){return this.getHSLA().add(a.h,a.s,a.l)},"-.number":function number(b){var a=b.value,c=b.unit;switch(c){case '%':return this.getHSLA().adjustLightness(-a).getRGBA();case 'deg':return this.getHSLA().adjustHue(-a).getRGBA();default:return this.subtract(a,a,a);}},"-.rgba":function rgba(a){return this.subtract(a.r,a.g,a.b)},"-.hsla":function hsla(a){return this.getHSLA().subtract(a.h,a.s,a.l)},"*.number":function number(a){return this.multiply(a.value)},"/.number":function number(a){return this.divide(a.value)},"*.rgba":function rgba(b){return new a(this.r*b.r,this.g*b.g,this.b*b.b,this.a*b.a)},"/.rgba":function rgba(b){return new a(Math.floor(this.r/b.r),Math.floor(this.g/b.g),Math.floor(this.b/b.b),Math.floor(this.a/b.a))}});e.exports=a;(function(l,k,i,g){var c=['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'],h=Object.keys(i),b;h.sort();for(b=0;b<h.length;b++){var j=h[b],a=i[j],m=new l(a[0],a[1],a[2],a[3]),n=m.stringify();k[n]=j}c.forEach(function(a){var b=a+a;c.forEach(function(h){var j=h+h;c.forEach(function(n){var p=n+n,c='#'+a+h+n,m='#'+b+j+p;if(g[m]){var o=g[m];c=o.length>c.length?c:o}g[m]=c})})})})(a,a.stringifiedMap,b.map,a.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(a,e,g){"use strict";var c=a('../Base.js');var f=a('./Type.js');var d=a('./Numeric.js');var b=function(b){_inherits(ColorStop,b);function ColorStop(d,f){_classCallCheck(this,ColorStop);var c=_possibleConstructorReturn(this,(ColorStop.__proto__||Object.getPrototypeOf(ColorStop)).call(this));c.color=d;c.stop=f;return c}_createClass(ColorStop,[{key:"doVisit",value:function doVisit(c){c.colorstop(this)}},{key:"descend",value:function descend(c){c.visit(this.color);c.visit(this.stop)}},{key:"toString",value:function toString(){var d=this.color.toString(),c=this.stop;if(c){c=c.copy();d+=' ';if(!c.unit){c.value*=100;c.unit='%'}d+=c.toString()}return d}},{key:"toOriginalWebkitString",value:function toOriginalWebkitString(){var c=this.stop;if(!c){c=new d(0,'%')}c=c.copy();if(!c.unit){c.value*=100;c.unit='%'}return 'color-stop('+c.toString()+', '+this.color.toString()+')'}},{key:"copy",value:function copy(){return new ColorStop(this.color&&this.color.clone(),this.stop&&this.stop.clone())}}]);return ColorStop}(f);c.apply(b.prototype,{type:'colorstop',$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null});e.exports=b},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(a,d,g){"use strict";var c=a('../Base.js');var f=a('./Type.js');var e=a('./List.js');var b=function(b){_inherits(FunctionCall,b);function FunctionCall(h,c){_classCallCheck(this,FunctionCall);var f=_possibleConstructorReturn(this,(FunctionCall.__proto__||Object.getPrototypeOf(FunctionCall)).call(this));f.name=h;if(Array.isArray(c)){c=new e(c)}f.args=c;return f}_createClass(FunctionCall,[{key:"toString",value:function toString(){var e=this.args,c;if(Array.isArray(e)){c=e.join(', ')}else {c=e.toString()}return this.name+"("+c+')'}},{key:"doVisit",value:function doVisit(c){c.functioncall(this)}},{key:"descend",value:function descend(c){this.args&&c.visit(this.args)}},{key:"copy",value:function copy(){return new FunctionCall(this.name,this.args&&this.args.copy())}}]);return FunctionCall}(f);c.apply(b.prototype,{type:'functioncall',$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null});d.exports=b},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(b,d,f){"use strict";var c=b('../Base.js');var e=b('./Type.js');var a=function(a){_inherits(LinearGradient,a);function LinearGradient(e,g){_classCallCheck(this,LinearGradient);var c=_possibleConstructorReturn(this,(LinearGradient.__proto__||Object.getPrototypeOf(LinearGradient)).call(this));c.position=e;c.stops=g;return c}_createClass(LinearGradient,[{key:"doVisit",value:function doVisit(c){c.lineargradient(this)}},{key:"descend",value:function descend(c){c.visit(this.position);c.visit(this.stops)}},{key:"copy",value:function copy(){return new LinearGradient(this.position&&this.position.clone(),this.stops&&this.stops.clone())}},{key:"gradientPoints",value:function gradientPoints(c){}},{key:"operate",value:function operate(e,c){switch(e){case "!=":if(c.type=='literal'&&(c.value=='null'||c.value=='none')){return !0};case "==":if(c.type=='literal'&&(c.value=='null'||c.value=='none')){return !1};}return _get(LinearGradient.prototype.__proto__||Object.getPrototypeOf(LinearGradient.prototype),"operate",this).call(this,e,c)}},{key:"supports",value:function supports(c){return !!this.vendorPrefixes[c.toLowerCase()]}},{key:"toString",value:function toString(){var c='linear-gradient(';if(this.position){c+=this.position+', '}return c+this.stops+')'}},{key:"toOriginalWebkitString",value:function toOriginalWebkitString(){var c=[],g=this.stops.items,h=g.length,e;c.push('top');c.push('bottom');for(e=0;e<h;e++){c.push(g[e].toOriginalWebkitString())}return '-webkit-gradient(linear, '+c.join(', ')+')'}},{key:"toPrefixedString",value:function toPrefixedString(c){if(c==='owg'){return this.toOriginalWebkitString()}return c+this.toString()}}]);return LinearGradient}(e);c.apply(a.prototype,{type:'lineargradient',$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}});d.exports=a},{"../Base.js":3,"./Type.js":24}],15:[function(a,d,f){"use strict";var c=a('../Base.js');var e=a('./Type.js');var b=function(b){_inherits(List,b);function List(g,e){_classCallCheck(this,List);var c=_possibleConstructorReturn(this,(List.__proto__||Object.getPrototypeOf(List)).call(this));c.items=g||[];c.separator=typeof e==='undefined'?' ':e;return c}_createClass(List,[{key:"doVisit",value:function doVisit(c){c.list(this)}},{key:"descend",value:function descend(e){for(var c=0;c<this.items.length;c++){e.visit(this.items[c])}}},{key:"copy",value:function copy(){var g=this.items,h=g.length,e=[];for(var c=0;c<h;c++){e.push(g[c].clone())}return new List(e,this.separator)}},{key:"clone",value:function clone(k,g){if(g&&this.matches(k)){return g.clone()}var j=this.items,l=j.length,e=[];for(var i=0;i<l;i++){var h=j[i];if(h){e.push(h.clone(k,g))}else {e.push(h)}}var c=new List(e,this.separator);c.$referenceName=this.$referenceName;c.$referenceBase=this.$referenceBase;c.$previousReference=this.$previousReference;return c}},{key:"add",value:function add(c){return this.items.push(c)}},{key:"get",value:function get(c){return this.items[c-1]||null}},{key:"operate",value:function operate(e,c){switch(e){case '!=':if(c.$isFashionLiteral){if(c.value==='null'||c.value==='none'){return !0}};break;case '==':if(c.$isFashionLiteral){if(c.value==='null'||c.value==='none'){return !1}};break;}return _get(List.prototype.__proto__||Object.getPrototypeOf(List.prototype),"operate",this).call(this,e,c)}},{key:"supports",value:function supports(e){for(var c=0;c<this.items.length;c++){var g=this.items[c];if(g.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function toBoolean(){return !!this.items.length}},{key:"getItems",value:function getItems(){return this.items}},{key:"toString",value:function toString(){return this.items.join(this.separator)}},{key:"unquote",value:function unquote(){var e=[],c;for(var g=0;g<this.items.length;g++){c=this.items[g];if(c){e.push(c.unquote())}else {e.push(c)}}return new List(e,this.separator)}},{key:"toPrefixedString",value:function toPrefixedString(h){var e=[];for(var c=0;c<this.items.length;c++){var g=this.items[c];if(g){e.push(g.toPrefixedString(h))}}return e.join(this.separator)}},{key:'==.list',value:function list(g){var e=this.separator==g.separator&&this.items.length==g.items.length;for(var c=0;e&&c<this.items.length;++c){e=this.items[c].operate("==",g.items[c])}return e}}]);return List}(e);c.apply(b.prototype,{type:'list',$isFashionList:!0,items:null,separator:null});d.exports=b},{"../Base.js":3,"./Type.js":24}],16:[function(d,g,h){"use strict";var e=d('../Base.js');var b=d('./Type.js');var f=d('./Numeric.js');var a=function(a){_inherits(Literal,a);function Literal(c){_classCallCheck(this,Literal);var b=_possibleConstructorReturn(this,(Literal.__proto__||Object.getPrototypeOf(Literal)).call(this));b.value=c;return b}_createClass(Literal,[{key:"doVisit",value:function doVisit(b){b.literal(this)}},{key:"_getHash",value:function _getHash(){return this.value}},{key:"toString",value:function toString(){return this.value||''}},{key:"toBoolean",value:function toBoolean(){return this.value.length}},{key:"copy",value:function copy(){return new Literal(this.value)}},{key:'+',value:function _(b){return new Literal(this.value+b.getHash())}},{key:'+.number',value:function number(b){if(this.value===null){return b}return new Literal(this.value+b.toString())}},{key:'/',value:function _(b){return new Literal(this.value+'/'+b.getHash())}},{key:'-',value:function _(b){return new Literal(this.value+'-'+b.getHash())}},{key:'%',value:function _(b){return new Literal(this.value+'%'+b.getHash())}},{key:"normalizeStart",value:function normalizeStart(e){var c=b.unbox(e)||0;if(c>0){c=c-1}if(c<0){c=this.value.length+c}if(c<0){c=0}return c}},{key:"normalizeEnd",value:function normalizeEnd(e){var c=b.unbox(e)||-1;if(c>0){c=c-1}if(c<0){c=this.value.length+c}if(c<0){c=0}if(c>0){c=c+1}return c}},{key:"slice",value:function slice(b,c){b=this.normalizeStart(b);c=this.normalizeEnd(c);return new Literal(this.value.slice(b,c))}},{key:"toUpperCase",value:function toUpperCase(){return new Literal(this.value.toUpperCase())}},{key:"toLowerCase",value:function toLowerCase(){return new Literal(this.value.toLowerCase())}},{key:"indexOf",value:function indexOf(c){var b=this.value.indexOf(c.value);if(b===-1){return undefined}return new f(b+1)}},{key:"insert",value:function insert(i,f){var c=b.unbox(f)||0,e=this.value;if(c>0){c=Math.min(c-1,e.length)}if(c<0){c=e.length+c+1;c=Math.max(c,0)}e=e.substring(0,c)+i.value+e.substring(c);return new Literal(Literal.deEscape(e))}},{key:"toDisplayString",value:function toDisplayString(){var b=this.value;if(b===null){return "null"}return this.toString()}}],[{key:"tryCoerce",value:function tryCoerce(b){if(b.$isFashionNumber){return undefined}if(b.$isFashionString){return new Literal(b.value)}if(b.$isFashionLiteral){return b}return new Literal(b.getHash())}},{key:"deEscape",value:function deEscape(e){var f='',b,c;for(b=0;b<e.length;b++){c=e.charAt(b);if(c==='\\'){b++;c=e.charAt(b)}f+=c}return f}}]);return Literal}(b);e.apply(a.prototype,{type:'literal',$isFashionLiteral:!0,value:null});var c=function(a){_inherits(FashionNull,a);function FashionNull(b){_classCallCheck(this,FashionNull);return _possibleConstructorReturn(this,(FashionNull.__proto__||Object.getPrototypeOf(FashionNull)).call(this,b||null))}_createClass(FashionNull,[{key:"copy",value:function copy(){return new FashionNull(this.value)}}]);return FashionNull}(a);e.apply(c.prototype,{$isFashionNull:!0,$constant:!0});c.prototype.$isFashionNull=!0;a.Null=new c(null);a.None=new a('none');g.exports=a},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(a,g,j){"use strict";var d=a('../Base.js');var b=a('./List.js');var i=a('./Type.js');var e=a('./Literal.js'),h=e.Null;var f=a('./Numeric.js');var c=function(c){_inherits(Map,c);function Map(b){_classCallCheck(this,Map);var e=_possibleConstructorReturn(this,(Map.__proto__||Object.getPrototypeOf(Map)).call(this,b));e.map={};if(b){for(var d=0;d<b.length-1;d+=2){var f=e.toKey(b[d]),h=b[d+1];e.map[f]=d+1}}return e}_createClass(Map,[{key:"doVisit",value:function doVisit(b){b.map(this)}},{key:"descend",value:function descend(d){for(var b=0;b<this.items.length;b++){d.visit(this.items[b])}}},{key:"get",value:function get(d){if(d instanceof f){d=i.unbox(d)}if(typeof d==='number'){return new b([this.items[2*d-2],this.items[2*d-1]],' ')}d=this.toKey(d);return this.items[this.map[d]]||h}},{key:"getItems",value:function getItems(){var d=[];for(var b=0;b<this.items.length-1;b+=2){var e=this.toKey(this.items[b]);d.push(this.map[e])}return d}},{key:"put",value:function put(e,d){var b=this.toKey(e);if(!this.map.hasOwnProperty(b)){this.items.push(e,d);this.map[b]=this.items.length-1}else {this.items[this.map[b]]=d}}},{key:"toString",value:function toString(){var b='',e=0;for(var d=0;d<this.items.length-1;d+=2){var h=this.toKey(this.items[d]),f=this.map[h];if(f){if(e>0){b+=', '}b+=h+": "+f.toString();e++}}return b}},{key:"toKey",value:function toKey(b){return this.unquoteKey(b).toString()}},{key:"unquoteKey",value:function unquoteKey(b){if(b.$isFashionType){return b.unquote()}return b}},{key:"remove",value:function remove(b){b=this.toKey(b);if(this.map[b]){var d=this.map[b];delete this.items[d-1];delete this.items[d];delete this.map[b]}}},{key:"getKeys",value:function getKeys(){var d=[];for(var b=0;b<this.items.length;b+=2){var e=this.items[b];if(e){d.push(e)}}return d}},{key:"getValues",value:function getValues(){var d=[];for(var b=1;b<this.items.length;b+=2){var e=this.items[b];if(e){d.push(e)}}return d}},{key:"hasKey",value:function hasKey(b){b=this.toKey(b);if(this.map.hasOwnProperty(b)){return !0}return !1}}]);return Map}(b);d.apply(c.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null});g.exports=c},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(c,f,h){"use strict";var b=c('../Base.js');var g=c('./Type.js');var e=c('./Bool.js');var a=c('./Literal.js');var d=function(d){_inherits(Numeric,d);function Numeric(i,b,e,g){_classCallCheck(this,Numeric);var a=_possibleConstructorReturn(this,(Numeric.__proto__||Object.getPrototypeOf(Numeric)).call(this));a.value=i;a.unit=b;if(b&&!e){a.numeratorUnits=[b]}else {a.numeratorUnits=e||[]}a.denominatorUnits=g||[];return a}_createClass(Numeric,[{key:"doVisit",value:function doVisit(a){a.number(this)}},{key:"unitless",value:function unitless(){if(this.numeratorUnits&&this.numeratorUnits.length){return !1}if(this.denominatorUnits&&this.denominatorUnits.length){return !1}return !0}},{key:"getUnitStr",value:function getUnitStr(){this.normalizeUnits();var a=this.numeratorUnits.join('*');if(this.denominatorUnits.length){a+='/'+this.denominatorUnits.join('*')}return a}},{key:"_getHash",value:function _getHash(){return this.value}},{key:"stringify",value:function stringify(){this.normalizeUnits();var b=this.value,a;a=Math.round(b*100000)/100000+'';return a+this.getUnitStr()}},{key:"toString",value:function toString(){return this.stringify()}},{key:"toBoolean",value:function toBoolean(){return this.unit?!0:!!this.value}},{key:"copy",value:function copy(){return new Numeric(this.value,this.unit)}},{key:'-.literal',value:function literal(b){if(this.value===0&&this.unitless()){return new a(['-',b.toString()].join(''))}return new a([this.toString(),'-',b.toString()].join(''))}},{key:'-.string',value:function string(b){if(this.value===0&&this.unitless()){return new a(['-',b.toString()].join(''))}return new a([this.toString(),'-',b.toString()].join(''))}},{key:'-.number',value:function number(a){var b=a.value;if(a.unit=='%'&&a.unit!==this.unit){b=this.value*(a.value/100)}return new Numeric(this.value-b,this.unit||a.unit)}},{key:'+.literal',value:function literal(b){if(b.$isFashionString){return new a([this.toString(),b.value].join(''))}return new a([this.toString(),b.toString()].join(''))}},{key:'+.number',value:function number(a){var b=a.value;if(a.unit=='%'&&a.unit!==this.unit){b=this.value*(a.value/100)}return new Numeric(this.value+b,this.unit||a.unit)}},{key:'/',value:function _(a){return new Numeric(this.value/a.value,this.unit==a.unit?null:this.unit||a.unit)}},{key:'*',value:function _(a){return new Numeric(this.value*a.value,this.unit||a.unit)}},{key:'%',value:function _(a){return new Numeric(this.value%a.value,this.unit||a.unit)}},{key:'**',value:function _(a){return new Numeric(Math.pow(this.value,a.value),this.unit||a.unit)}},{key:"operate",value:function operate(e,b){var i=this.unit||b.unit,g;if(b.$isFashionRGBA||b.$isFashionHSLA){return new a(this+e+b)}if(b.$isFashionNumber){return this.numericOperate(e,b)}else if(b.$isFashionLiteral){g=this.tryCoerce(b);if(g){return this.performOperation(e,g)}}return _get(Numeric.prototype.__proto__||Object.getPrototypeOf(Numeric.prototype),"operate",this).call(this,e,b)}},{key:"tryNormalize",value:function tryNormalize(e){var a=e.value,b=e.unit;if(e.$isFashionNumber){switch(this.unit){case 'mm':switch(b){case 'in':return new Numeric(a*25.4,'mm');case 'cm':return new Numeric(a*2.54,'mm');};break;case 'cm':switch(b){case 'in':return new Numeric(a*2.54,'cm');case 'mm':return new Numeric(a/10,'cm');};break;case 'in':switch(b){case 'mm':return new Numeric(a/25.4,'in');case 'cm':return new Numeric(a/2.54,'in');};break;case 'ms':switch(b){case 's':return new Numeric(a*1000,'ms');};break;case 's':switch(b){case 'ms':return new Numeric(a/1000,'s');};break;case 'Hz':switch(b){case 'kHz':return new Numeric(a*1000,'Hz');};break;case 'kHz':switch(b){case 'Hz':return new Numeric(a/1000,'kHz');};break;case '%':switch(b){default:return new Numeric(a);};default:break;}}return undefined}},{key:"normalize",value:function normalize(a){var b=this.tryNormalize(a);if(b===undefined){raise('Could not normalize '+this+' with '+a)}return b}},{key:"comparable",value:function comparable(e){var b=this.unit,a=e.unit;if(!e.$isFashionNumber){return !1}return b===a||b==='mm'&&(a==='in'||a==='cm')||b==='cm'&&(a==='in'||a==='mm')||b==='in'&&(a==='mm'||a==='cm')||b==='ms'&&a==='s'||b==='s'&&a==='ms'||b==='Hz'&&a==='kHz'||b==='kHz'&&a==='Hz'}},{key:"normalizeUnits",value:function normalizeUnits(){if(this.normalized){return}this.normalized=!0;if(!this.unitless()){var a=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits),e;a.num=b.filter(a.num,function(a){return !!a});a.den=b.filter(a.den,function(a){return !!a});this.numeratorUnits=a.num;this.denominatorUnits=a.den}}},{key:"numericOperate",value:function numericOperate(g,l){this.normalizeUnits();l.normalizeUnits();var a=this,b=l,n=Numeric.OPERATIONS,m=Numeric.NON_COERCE_OPERATIONS,k=n[g],i;if(k){try{if(a.unitless()){a=a.coerceUnits(b.numeratorUnits,b.denominatorUnits)}else {b=b.coerceUnits(a.numeratorUnits,a.denominatorUnits)}}catch(o){if(g=='=='){return e.False}if(g=='!='){return e.True}throw o}}else {k=m[g]}if(k){i=k(a.value,b.value)}if(typeof i==='number'){var j=this.computeUnits(a,b,g);return new Numeric(i,j.num.length?j.num[0]:null,j.num,j.den)}return new e(i)}},{key:"computeUnits",value:function computeUnits(a,b,e){switch(e){case '*':return {num:a.numeratorUnits.slice().concat(b.numeratorUnits),den:a.denominatorUnits.slice().concat(b.denominatorUnits)};case '/':return {num:a.numeratorUnits.slice().concat(b.denominatorUnits),den:a.denominatorUnits.slice().concat(b.numeratorUnits)};default:return {num:a.numeratorUnits,den:a.denominatorUnits};}}},{key:"coerceUnits",value:function coerceUnits(a,e){var b=this.value;if(!this.unitless()){b=b*this.coercionFactor(this.numeratorUnits,a)/this.coercionFactor(this.denominatorUnits,e)}return new Numeric(b,a&&a[0],a,e)}},{key:"coercionFactor",value:function coercionFactor(o,l){var k=this.removeCommonUnits(o,l),a=k.num,e=k.den;if(a.length!==e.length||!this.convertable(a||e)){b.raise('Incompatible units: '+a.join('*')+' and '+e.join('*'))}for(var g=0;g<a.length;g++){var m=a[g];for(var i=0;i<e.length;i++){var n=e[i],j=this.conversionFactor(m,n);if(j!==null){return j}}}return 1}},{key:"conversionFactor",value:function conversionFactor(b,g){var a=Numeric.CONVERTABLE_UNITS,i=Numeric.CONVERSION_TABLE,e=null;if(a[b]){if(a[g]){e=i[a[b]][a[g]]}}if(e===null&&a[g]){if(a[b]){e=1/i[a[g]][a[b]]}}return e}},{key:"convertable",value:function convertable(a){if(a&&!Array.isArray(a)){a=[a]}if(a&&a.length){var e=Numeric.CONVERTABLE_UNITS;for(var b=0;b<a.length;b++){if(e[a[b]]===undefined){return !1}}}return !0}},{key:"removeCommonUnits",value:function removeCommonUnits(i,g){var e={},k=[],j=[],a,b,b;for(a=0;a<i.length;a++){b=i[a];e[b]=(e[b]||0)+1}for(a=0;a<g.length;a++){b=g[a];e[b]=(e[b]||0)-1}for(a=0;a<i.length;a++){b=i[a];if(e[b]>0){k.push(b);e[b]--}}for(a=0;a<g.length;a++){b=g[a];if(e[b]<0){j.push(b);e[b]++}}return {num:k,den:j}}}],[{key:"tryGetNumber",value:function tryGetNumber(a){if(/^\d*$/.test(a)){a=parseFloat(a)}if(!isNaN(a)){return new Numeric(a)}return undefined}},{key:"tryCoerce",value:function tryCoerce(a){if(a.$isFashionNumber){return a}if(a.$isFashionLiteral){return this.tryGetNumber(a.value)}return undefined}}]);return Numeric}(g);b.apply(d,{OPERATIONS:{'!=':function _(a,b){return a!=b},'+':function _(a,b){return a+b},'-':function _(a,b){return a-b},'<=':function _(a,b){return a<=b},'<':function _(a,b){return a<b},'>':function _(a,b){return a>b},'>=':function _(a,b){return a>=b},'==':function _(a,b){return a==b},'%':function _(a,b){return Math.abs(a%b)}},NON_COERCE_OPERATIONS:{'*':function _(a,b){return a*b},'**':function _(a,b){return Math.pow(a,b)},'/':function _(a,b){return a/b}},CONVERTABLE_UNITS:{'in':0,'cm':1,'pc':2,'mm':3,'pt':4,'px':5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]});b.apply(d.prototype,{type:'number',$isFashionNumber:!0,value:undefined,unit:undefined,numeratorUnits:undefined,denominatorUnits:undefined,normalized:!1});f.exports=d},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(b,d,f){"use strict";var c=b('../Base.js');var e=b('./Type.js');var a=function(a){_inherits(ParentheticalExpression,a);function ParentheticalExpression(e){_classCallCheck(this,ParentheticalExpression);var c=_possibleConstructorReturn(this,(ParentheticalExpression.__proto__||Object.getPrototypeOf(ParentheticalExpression)).call(this));c.value=e;return c}_createClass(ParentheticalExpression,[{key:"toString",value:function toString(){return '('+(this.value&&this.value.toString())+')'}},{key:"doVisit",value:function doVisit(c){c.parenthetical(this)}}]);return ParentheticalExpression}(e);c.apply(a.prototype,{value:null,type:'parenthetical'});d.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(b,d,f){"use strict";var c=b('../Base.js');var e=b('./Type.js');var a=function(a){_inherits(RadialGradient,a);function RadialGradient(e,g,h){_classCallCheck(this,RadialGradient);var c=_possibleConstructorReturn(this,(RadialGradient.__proto__||Object.getPrototypeOf(RadialGradient)).call(this));c.position=e;c.stops=h;c.shape=g;return c}_createClass(RadialGradient,[{key:"doVisit",value:function doVisit(c){c.radialgradient(this)}},{key:"descend",value:function descend(c){c.visit(this.position);c.visit(this.stops);c.visit(this.shape)}},{key:"copy",value:function copy(){return new RadialGradient(this.position,this.shape,this.stops)}},{key:"toString",value:function toString(){var c='radial-gradient(';if(this.position){c+=this.position+', '}if(this.shape){c+=this.shape+', '}return c+this.stops+')'}},{key:"toOriginalWebkitString",value:function toOriginalWebkitString(){var c=[],g=this.stops.items,h=g.length,e;c.push('center 0%');c.push('center 100%');for(e=0;e<h;e++){c.push(g[e].toOriginalWebkitString())}return '-webkit-gradient(radial, '+c.join(', ')+')'}},{key:"supports",value:function supports(c){return ['owg','webkit'].indexOf(c.toLowerCase())!==-1}},{key:"toPrefixedString",value:function toPrefixedString(c){if(c==='owg'){return this.toOriginalWebkitString()}return c+this.toString()}},{key:"gradientPoints",value:function gradientPoints(c){}}]);return RadialGradient}(e);c.apply(a.prototype,{type:'radialgradient',$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null});d.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(a,f,g){"use strict";var c=a('../Base.js');var d=a('./TypeVisitor.js');var e=a('../Output.js');var b=function(b){_inherits(SourceBuilder,b);function SourceBuilder(d){_classCallCheck(this,SourceBuilder);var c=_possibleConstructorReturn(this,(SourceBuilder.__proto__||Object.getPrototypeOf(SourceBuilder)).call(this,d));c.nullFound=!1;return c}_createClass(SourceBuilder,[{key:"list",value:function list(m){var c=this.output,e=m.items,l=c.output.length,h=m.separator,i=h&&h.length,n=h&&h.indexOf(' ')>-1,k=c.output,j;for(var d=0;d<e.length;d++){if(e[d]&&!e[d].$isFashionNull){this.visit(e[d]);j=c.output.length-l;if(!j&&i&&d>0){c.output=k}k=c.output;if(d<e.length-1){if(i){c.add(h);if(!n){c.space()}}}l=c.output.length}else {this.nullFound=!0}}}},{key:"map",value:function map(k){var e=this.output,h=k.items,j,i;if(this.currDeclaration){c.raise('('+k.toString()+") isn't a valid CSS value.")}for(var d=0;d<h.length-1;d+=2){j=h[d];i=h[d+1];if(j&&i){if(d>0){e.add(',');e.space()}this.visit(j);e.add(': ');this.visit(i)}}}},{key:"literal",value:function literal(c){c.value&&this.output.add(c.value)}},{key:"string",value:function string(d){var c=this.output;c.add(d.quoteChar);c.add(d.value);c.add(d.quoteChar)}},{key:"functioncall",value:function functioncall(d){var c=this.output;c.add(d.name);c.add('(');this.visit(d.args);c.add(')')}},{key:"parenthetical",value:function parenthetical(c){this.output.add('(');this.visit(c.value);this.output.add(')')}},{key:"number",value:function number(d){var c=d.stringify();if(c.indexOf('.')==='.'&&!this.output.isCompressed){c="0"+c}this.output.add(c)}},{key:"bool",value:function bool(c){this.output.add(c.value?'true':'false')}},{key:"hsla",value:function hsla(c){this.output.add(c.toString())}},{key:"rgba",value:function rgba(c){this.output.add(c.toString())}},{key:"colorstop",value:function colorstop(d){var e=this.output,c=d.stop;this.visit(d.color);if(c){c=c.clone();e.add(' ');if(!c.unit){c.value*=100;c.unit='%'}this.visit(c)}}},{key:"lineargradient",value:function lineargradient(d){var c=this.output;c.add("linear-gradient(");if(d.position){this.visit(d.position);c.add(',');c.space()}this.visit(d.stops);c.add(')')}},{key:"radialgradient",value:function radialgradient(d){var c=this.output;c.add("radial-gradient(");if(d.position){this.visit(d.position);c.add(',');c.space()}if(d.shape){this.visit(d.shape);c.add(',');c.space()}this.visit(d.stops);c.add(')')}},{key:"toSource",value:function toSource(d,c){this.output=c||new e();this.visit(d);return this.output.get()}}],[{key:"toSource",value:function toSource(d,c){var e=new SourceBuilder();return e.toSource(d,c)}}]);return SourceBuilder}(d);c.apply(b.prototype,{output:null});f.exports=b},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(a,b,l){"use strict";var d=a('../Base.js');var k=a('./Type.js');var i=a('./Text.js');var f=a('./Numeric.js');var c=a('./Bool.js'),j=c.True,g=c.False;var e=a('./Literal.js'),h=e.Null;b.exports={unboxType:function unboxType(d){var c=d;if(c&&c.$isFashionType&&c.$canUnbox){c=c.value;if(d.$isFashionString||d.$isFashionLiteral){if(c==='none'||c==='null'){c=null}}else if(d.$isFashionList){c=d.items}}return c},boxType:function boxType(c){if(c&&c.$isFashionType){return c}if(c==null){return h}if(c===!0){return j}if(c===!1){return g}var d=typeof c==="undefined"?"undefined":_typeof(c);switch(d){case 'string':return new i(c);case 'number':return new f(c);default:break;}return c}};d.apply(k,{box:b.exports.boxType,unbox:b.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(c,e,f){"use strict";var d=c('../Base.js');var b=c('./Literal.js');var a=function(a){_inherits(Text,a);function Text(g,b){_classCallCheck(this,Text);var d=_possibleConstructorReturn(this,(Text.__proto__||Object.getPrototypeOf(Text)).call(this,g));if(b!==undefined){if(Text.preferDoubleQuotes&&b===''){d.quoteChar=''}else {d.quoteChar=b}}return d}_createClass(Text,[{key:"doVisit",value:function doVisit(b){b.string(this)}},{key:"toString",value:function toString(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function unquote(){return new b(this.value)}},{key:"copy",value:function copy(){return new Text(this.value,this.quoteChar)}},{key:"slice",value:function slice(b,d){return new Text(_get(Text.prototype.__proto__||Object.getPrototypeOf(Text.prototype),"slice",this).call(this,b,d).value,this.quoteChar)}},{key:"toUpperCase",value:function toUpperCase(){return new Text(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function toLowerCase(){return new Text(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function insert(d,b){return new Text(_get(Text.prototype.__proto__||Object.getPrototypeOf(Text.prototype),"insert",this).call(this,d,b).value,this.quoteChar)}}],[{key:"tryCoerce",value:function tryCoerce(b){if(b.$isFashionNumber){return undefined}if(b.$isFashionLiteral){return new Text(b.value)}return new Text(b.getHash())}}]);return Text}(b);a.preferDoubleQuotes=!1;d.apply(a.prototype,{type:'string',$isFashionString:!0,value:null,quoteChar:'"','+':function _(b){return new a(this.value+b.getHash())},'+.number':function number(b){return new a(this.value+b.toString())},'/':function _(b){return new a(this.value+'/'+b.getHash())}});e.exports=a},{"../Base.js":3,"./Literal.js":16}],24:[function(c,d,e){"use strict";var a=c('../Base.js');var b=function(){function Type(){_classCallCheck(this,Type)}_createClass(Type,[{key:"coerce",value:function coerce(a){var b=this.tryCoerce(a);return b||a}},{key:"_getHash",value:function _getHash(){if(this.visitTarget){return this.visitTarget.toString()}return this.toString()}},{key:"getHash",value:function getHash(){if(this._hash==null){this._hash=this._getHash()}return this._hash}},{key:"tryCoerce",value:function tryCoerce(a){var b=this;if(b.constructor===a.constructor){return a}if(b.constructor.tryCoerce){return b.constructor.tryCoerce(a)}return undefined}},{key:"supports",value:function supports(a){return !1}},{key:"operate",value:function operate(a,b){return this.performOperation(a,this.coerce(b))}},{key:"performOperation",value:function performOperation(g,f){var h=this[g+"."+f.type]||this[g];if(!h){a.raise("Failed to find method for operation "+g+" on type "+f.type+" with value "+f+".")}var b=h.call(this,f);if(!b||!b.$isFashionType){b=Type.box(b)}return b}},{key:'==',value:function _(a){return this.getHash()===a.getHash()}},{key:'!=',value:function _(a){return this.getHash()!==a.getHash()}},{key:'>=',value:function _(a){return this.getHash()>=a.getHash()}},{key:'<=',value:function _(a){return this.getHash()<=a.getHash()}},{key:'>',value:function _(a){return this.getHash()>a.getHash()}},{key:'<',value:function _(a){return this.getHash()<a.getHash()}},{key:'+',value:function _(a){return this.getHash()+a.getHash()}},{key:"copy",value:function copy(){return this}},{key:"matches",value:function matches(a){if(a&&a==this.toString()){return !0}return !1}},{key:"clone",value:function clone(f,b){if(b&&this.matches(f)){return b.copy()}var a=this.copy();a.ast=this.ast;a.$referenceName=this.$referenceName;a.$referenceBase=this.$referenceBase;a.$previousReference=this.$previousReference;return a}},{key:"unquote",value:function unquote(){return this}},{key:"toPrefixedString",value:function toPrefixedString(a){return this.toString()}},{key:"doVisit",value:function doVisit(a){}},{key:"descend",value:function descend(a){}},{key:"hasTag",value:function hasTag(h,a,f,b){a=a||"fashion";f=f||new RegExp('^\\s*//#\\s*'+a+'\\s*\\+?'+h+"s*$");b=b||new RegExp('^\\s*//#\\s*'+a+'\\s*\\-'+h+'\\s*$');var g=this.docs;if(g&&g.length){for(var i=0;i<this.docs.length;i++){var j=g[i];if(f.test(j)){return !0}if(b.test(j)){return !1}}}if(this.parentNode){return this.parentNode.hasTag(h,a,f,b)}return null}},{key:"toDisplayString",value:function toDisplayString(){return '['+this.constructor.name+' : '+this.toString()+']'}}]);return Type}();a.apply(b.prototype,{visitTarget:undefined,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:undefined,$referenceBase:undefined,$previousReference:undefined,value:undefined,unit:undefined,parentNode:undefined,docs:undefined,ast:undefined});d.exports=b},{"../Base.js":3}],25:[function(c,d,e){"use strict";var b=c('../Base.js');var a=function(){function TypeVisitor(a){_classCallCheck(this,TypeVisitor);if(a){b.apply(this,a)}}_createClass(TypeVisitor,[{key:"literal",value:function literal(a){a.descend(this)}},{key:"bool",value:function bool(a){a.descend(this)}},{key:"string",value:function string(a){a.descend(this)}},{key:"number",value:function number(a){a.descend(this)}},{key:"map",value:function map(a){a.descend(this)}},{key:"functioncall",value:function functioncall(a){a.descend(this)}},{key:"parenthetical",value:function parenthetical(a){a.descend(this)}},{key:"list",value:function list(a){a.descend(this)}},{key:"hsla",value:function hsla(a){a.descend(this)}},{key:"rgba",value:function rgba(a){a.descend(this)}},{key:"colorstop",value:function colorstop(a){a.descend(this)}},{key:"lineargradient",value:function lineargradient(a){a.descend(this)}},{key:"radialgradient",value:function radialgradient(a){a.descend(this)}},{key:"visitItem",value:function visitItem(a){a.doVisit(this)}},{key:"visit",value:function visit(a){while(a&&a.visitTarget!==undefined){a=a.visitTarget}if(a){if(Array.isArray(a)){for(var b=0;b<a.length;b++){this.visit(a[b])}}else {this.visitItem(a)}}}},{key:"execute",value:function execute(a,b){this.visit(a)}}]);return TypeVisitor}();a.prototype.context=null;d.exports=a},{"../Base.js":3}],26:[function(a,d,f){"use strict";var c=a('./Bool.js');var b=a('./Literal.js');var e={Bool:c,Literal:b,Text:a('./Text.js'),Numeric:a('./Numeric.js'),Color:a('./Color.js'),ColorRGBA:a('./ColorRGBA.js'),ColorHSLA:a('./ColorHSLA.js'),ColorStop:a('./ColorStop.js'),LinearGradient:a('./LinearGradient.js'),RadialGradient:a('./RadialGradient.js'),List:a('./List.js'),Map:a('./Map.js'),ParentheticalExpression:a('./ParentheticalExpression.js'),FunctionCall:a('./FunctionCall.js'),Null:b.Null,None:b.None,True:c.True,False:c.False};d.exports=e},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});(function(b){var ab=undefined,a=b.Types,f={},W=b.css.buildNames(f),T=b.css.buildJsNames(f);var y=a.Bool,X=y,g=a.Literal,R=g,C=a.Text,d=C,v=a.Numeric,u=v,e=a.Color,U=e,s=a.ColorRGBA,c=s,r=a.ColorHSLA,P=r,t=a.ColorStop,Q=t,l=a.LinearGradient,J=l,m=a.RadialGradient,K=m,z=a.List,Y=z,E=a.Map,aa=E,h=a.ParentheticalExpression,F=h,n=a.FunctionCall,L=n,B=a.Null,$=B,A=a.None,Z=A,D=a.True,_=D,x=a.False,V=x,w=a.Ruleset,S=w,q=a.Declaration,O=q,p=a.SelectorPart,N=p,j=a.CompoundSelector,H=j,i=a.MultiPartSelector,G=i,o=a.SelectorList,M=o,k=a.SelectorProperty,I=k;b.css.register(function(a){a.register({darken:function(d,c){if(d==null||d.$isFashionNull){return g.Null}if(d.type!=='hsla'&&d.type!=='rgba'){b.raise(d+' is not a color for \'darken\'')}if(c.type!=='number'){b.raise(c+' is not a number for \'darken\'')}if(c.value!==e.constrainPercentage(c.value)){b.raise('Amount '+c+' must be between 0% and 100% for \'darken\'')}c=c.clone();c.value*=-1;return e.adjust(d,'lightness',c)}});var c=a.constructor.bind(a),aE=a.bool.bind(a),ay=a.color.bind(a),aB=a.quote.bind(a),au=a.unquote.bind(a),aN=a.not.bind(a),at=a.operate.bind(a),aC=a.reset.bind(a),aO=a.run.bind(a),y=a.createTypesBlock.bind(a),q=a.createMethodBlock.bind(a),m=a.createPropertyBlock.bind(a),d=a.createPrefixedFunctionBody.bind(a),B=a.createWrappedFn.bind(a),L=a.callWrappedFn.bind(a),ap=a.compile.bind(a),ar=a.execute.bind(a),aG=a.load.bind(a),s=a.registerProcessor.bind(a),am=a.register.bind(a),R=a.isRegistered.bind(a),G=a.getGlobalScope.bind(a),D=a.getCurrentScope.bind(a),i=a.getRegisteredFunctions.bind(a),Q=a.getFunctions.bind(a),ac=a.getMixins.bind(a),U=a.createScope.bind(a),af=a.pushScope.bind(a),al=a.popScope.bind(a),k=a.createCallStackScope.bind(a),n=a.pushCallStackScope.bind(a),r=a.popCallStackScope.bind(a),P=a.getCallStack.bind(a),I=a.pushSourceInfo.bind(a),M=a.getSourceInfo.bind(a),aM=a.get.bind(a),F=a.getScopeForName.bind(a),X=a.getDefault.bind(a),z=a.getGlobalDefault.bind(a),E=a.getLocalDefault.bind(a),ah=a.setGlobal.bind(a),$=a.setDynamic.bind(a),ai=a.setScoped.bind(a),aP=a.set.bind(a),as=a.getDocs.bind(a),ad=a.getString.bind(a),W=a.getAstNode.bind(a),T=a.applySpread.bind(a),aj=a.sliceArgs.bind(a),A=a.applySpreadArgs.bind(a),aI=a.warn.bind(a),aA=a.error.bind(a),az=a.debug.bind(a),ag=a.setCaches.bind(a),x=a.copyRuntimeState.bind(a),aH=a.test.bind(a),aJ=a.and.bind(a),aR=a.or.bind(a),aK=a.box.bind(a),aD=a.unbox.bind(a),ax=a.Scope.bind(a),c=a.constructor.bind(a),t=a.__defineGetter__.bind(a),u=a.__defineSetter__.bind(a),H=a.hasOwnProperty.bind(a),v=a.__lookupGetter__.bind(a),w=a.__lookupSetter__.bind(a),l=a.propertyIsEnumerable.bind(a),c=a.constructor.bind(a),ao=a.toString.bind(a),J=a.toLocaleString.bind(a),av=a.valueOf.bind(a),N=a.isPrototypeOf.bind(a);var aq=a.context,aw=a.mixins,ab=a.functions,Y=a.processors,Z=a.registered,C=a.deferredContent,j=a.registerSelectorHooks,o=a.registerAtRuleHook,p=a.registerStyleHooks,f=a.registerFunctionCallHooks,ak=a.docCache,V=a.stringCache,ae=a.nodeCache,aF=a.code,aQ=a.fn,K=a._currentScope,h=a._currentCallStackScope,O=a._globalScope,_=a._dynamics,aL=a.css,an=a.rulesets,aa=a.extenders,S=a._scopeStack;b.apply(a.functions,{})},function(a){var i=a.constructor.bind(a),aI=a.bool.bind(a),aC=a.color.bind(a),aF=a.quote.bind(a),ay=a.unquote.bind(a),aO=a.not.bind(a),ax=a.operate.bind(a),aG=a.reset.bind(a),aP=a.run.bind(a),G=a.createTypesBlock.bind(a),y=a.createMethodBlock.bind(a),t=a.createPropertyBlock.bind(a),m=a.createPrefixedFunctionBody.bind(a),H=a.createWrappedFn.bind(a),R=a.callWrappedFn.bind(a),at=a.compile.bind(a),av=a.execute.bind(a),aK=a.load.bind(a),A=a.registerProcessor.bind(a),aq=a.register.bind(a),X=a.isRegistered.bind(a),M=a.getGlobalScope.bind(a),J=a.getCurrentScope.bind(a),p=a.getRegisteredFunctions.bind(a),W=a.getFunctions.bind(a),ag=a.getMixins.bind(a),$=a.createScope.bind(a),aj=a.pushScope.bind(a),ap=a.popScope.bind(a),r=a.createCallStackScope.bind(a),v=a.pushCallStackScope.bind(a),z=a.popCallStackScope.bind(a),V=a.getCallStack.bind(a),O=a.pushSourceInfo.bind(a),S=a.getSourceInfo.bind(a),e=a.get.bind(a),L=a.getScopeForName.bind(a),ab=a.getDefault.bind(a),g=a.getGlobalDefault.bind(a),K=a.getLocalDefault.bind(a),al=a.setGlobal.bind(a),h=a.setDynamic.bind(a),am=a.setScoped.bind(a),aQ=a.set.bind(a),aw=a.getDocs.bind(a),ah=a.getString.bind(a),aa=a.getAstNode.bind(a),Z=a.applySpread.bind(a),an=a.sliceArgs.bind(a),j=a.applySpreadArgs.bind(a),aL=a.warn.bind(a),aE=a.error.bind(a),aD=a.debug.bind(a),ak=a.setCaches.bind(a),F=a.copyRuntimeState.bind(a),f=a.test.bind(a),aM=a.and.bind(a),aS=a.or.bind(a),l=a.box.bind(a),aH=a.unbox.bind(a),aB=a.Scope.bind(a),i=a.constructor.bind(a),B=a.__defineGetter__.bind(a),C=a.__defineSetter__.bind(a),N=a.hasOwnProperty.bind(a),D=a.__lookupGetter__.bind(a),E=a.__lookupSetter__.bind(a),s=a.propertyIsEnumerable.bind(a),i=a.constructor.bind(a),as=a.toString.bind(a),P=a.toLocaleString.bind(a),az=a.valueOf.bind(a),T=a.isPrototypeOf.bind(a);var au=a.context,aA=a.mixins,af=a.functions,ac=a.processors,k=a.registered,I=a.deferredContent,q=a.registerSelectorHooks,w=a.registerAtRuleHook,x=a.registerStyleHooks,n=a.registerFunctionCallHooks,ao=a.docCache,_=a.stringCache,ai=a.nodeCache,aJ=a.code,aR=a.fn,Q=a._currentScope,o=a._currentCallStackScope,U=a._globalScope,ad=a._dynamics,aN=a.css,ar=a.rulesets,ae=a.extenders,Y=a._scopeStack;h("$theme_name",g("$theme_name")||new d("theme-neptune","'"),0);h("$content-panel-grid-line",g("$content_panel_grid_line")||(f(a.operate("==",e("$theme_name"),new d("theme-material","'")))?(f(e("$dark_mode"))?c.fromHex("#3a3a3a"):c.fromHex("#f5f5f5")):(f(a.operate("==",e("$theme_name"),new d("theme-ios","'")))?c.fromHex("#EFEFF4"):c.fromHex("#f5f5f5"))),1);h("$content-panel-grid-background",g("$content_panel_grid_background")||(f(a.operate("==",e("$theme_name"),new d("theme-ios","'")))?e("$content_panel_grid_line"):l(k.darken.apply(a.registered,j([e("$content_panel_grid_line"),new u(5,"%")])))),2)},{"html":["content-panel-grid-line","content-panel-grid-background","theme_name"]})})(Fashion);